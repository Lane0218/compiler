# 1.编译概念

## 1.3 编译器分类

* 本地编译器
* 交叉编译器
* 源到源编译器

## 1.4 编译器功能

* 源程序语言翻译为汇编语言或其他语言
* 帮助用户发现定位程序中的错误，提高程序的产出率和可靠性
* 通过代码转换，优化产生的目标语言质量

## 1.5 优化编译器

* 翻译+优化
* 编译必须保持：
  * 安全
  * 有价值
  * 普遍适用
  * 执行代价可接受
* 分析+转换
* 关键的分析
  * 控制流



# 2

## 2.1 编译过程

好的符号表





## 2.2 编译遍

前一个遍的输出作为后一个遍的输入

* 各遍功能独立单一，逻辑结构清晰
* 通过遍管理器打开或关闭特定遍



* 分析遍
* 代码转换遍
* 优化遍



# 3

## 3.1 多语言、多目标



* 图着色（？）寄存器分配





## 3.2 程序表示



* 中间代码
  * 便于处理，含义明确，独立于硬件

* 常用中间代码

  * 三地址代码
    * x:=y op z
    * 三元式、间接三元式，四元式

  * ssa：静态代码需要的性质（年后讲）



## 3.3 编译遍的顺序

* 遍管理器
* 初始化，编译器在初始化过程中把各遍按一定顺序注册
* 组织编译遍的顺序：
  * 遍的依赖关系
    * copy传播和死代码删除
  * 遍之间有循环依赖关系
    * 常数折叠和常数传播
  * 编译之间相互反作用
    * 公用子表达式删除和寄存器分配



# 4 词法分析

## 4.1 什么是词法分析

* 词法单元
  * <单元名，属性值>



## 4.2 词法分析器

* 扫描器
* 在词法分析阶段，源程序错误处理。



## 4.3 词法分析器的构建

1. 使用正规表达式E描述语言的词法文法
2. 根据E构建一个确定有穷自动机（DFA）



### 4.3.1 正规表达式





# 5 语法分析

## 5.1 语法分析

解析

* 避免二义性：
  * 结合属性
  * 优先级

## 5.3 上下无关文法

* 终结符
* 非终结符
* 开始符号
* 产生式集合



## 5.4 EBNF



Buckus 范式



* SysY语言
  * c语言的一个子集